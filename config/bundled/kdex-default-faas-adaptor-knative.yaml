apiVersion: kdex.dev/v1alpha1
kind: KDexClusterFaaSAdaptor
metadata:
  name: kdex-default-faas-adaptor-knative
spec:
  deployer:
    env:
    - name: DEBUG_SECURITY
      value: "true"
    image: ghcr.io/kdex-tech/knative-deployer:0.1.1
    command: ["/deployer", "deploy"]
  observer:
    image: ghcr.io/kdex-tech/knative-deployer:0.1.1
    command: ["/deployer", "observe"]
    schedule: "*/5 * * * *"
  defaultBuilderGenerator: tiny/go
  builders:
  - builderRef:
      kind: ClusterBuilder
      name: tiny-builder
    languages:
    - go
    - rust
    name: tiny
  - builderRef:
      kind: ClusterBuilder
      name: base-builder
    languages:
    - nodejs
    - python
    name: base
  generators:
  - entrypoint: "./cmd/main.go"
    git:
      image: ghcr.io/kdex-tech/cli-tools:0.3.4
      committerEmail: test@kdex.dev
      committerName: KDex Codegen Bot
    image: ghcr.io/kdex-tech/fngogen:0.1.1
    language: go
  provider: knative
