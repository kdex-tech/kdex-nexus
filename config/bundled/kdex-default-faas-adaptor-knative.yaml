apiVersion: kdex.dev/v1alpha1
kind: KDexClusterFaaSAdaptor
metadata:
  name: kdex-default-faas-adaptor-knative
spec:
  deployer:
    env:
    - name: DEBUG_SECURITY
      value: "true"
    image: k3d-registry:5000/kdex-tech/knative-deployer
    command: ["/deployer", "deploy"]
  observer:
    image: k3d-registry:5000/kdex-tech/knative-deployer
    command: ["/deployer", "observe"]
    schedule: "*/5 * * * *"
  defaultBuilderGenerator: tiny/go
  builders:
  - builderRef:
      kind: ClusterBuilder
      name: tiny-microservice-builder
    languages:
    - go
    name: tiny
  generators:
  - entrypoint: "./cmd/main.go"
    git:
      image: k3d-registry:5000/kdex-tech/kdex-cli-tools
      committerEmail: test@kdex.dev
      committerName: KDex Codegen Bot
    image: k3d-registry:5000/kdex-tech/fngogen
    language: go
  provider: knative
